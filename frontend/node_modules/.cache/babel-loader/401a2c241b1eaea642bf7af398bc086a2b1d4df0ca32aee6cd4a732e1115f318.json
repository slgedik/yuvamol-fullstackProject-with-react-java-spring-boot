{"ast":null,"code":"var _jsxFileName = \"/Users/silagedik/Desktop/yuvamol/frontend/src/pages/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Form, Button, Alert, Container } from 'react-bootstrap';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport background from '../images/arkaPlan.png';\nimport \"../CSS/App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login({\n  setIsAuthenticated\n}) {\n  _s();\n  const [credentials, setCredentials] = useState({\n    username: '',\n    password: ''\n  });\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const navigate = useNavigate();\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setCredentials(prevCredentials => ({\n      ...prevCredentials,\n      [name]: value\n    }));\n  };\n\n  // Login componenti\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:8080/login', new URLSearchParams({\n        username: credentials.username,\n        password: credentials.password\n      }), {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        withCredentials: true\n      });\n\n      // Giriş başarılı, şimdi kullanıcı bilgilerini al\n      const userResponse = await axios.get('http://localhost:8080/api/users/user-details', {\n        withCredentials: true\n      });\n      const userId = userResponse.data.id;\n      setSuccess(true);\n      setError(null);\n      setIsAuthenticated(true);\n      sessionStorage.setItem('isAuthenticated', 'true');\n      sessionStorage.setItem('userId', userResponse.data.id);\n\n      // Kullanıcı ID'si ile yönlendirme\n      navigate(`/home/${userId}`);\n    } catch (err) {\n      console.error('Error response:', err.response);\n      if (err.response) {\n        setError(`Giriş işlemi başarısız oldu: ${err.response.status}`);\n      } else if (err.request) {\n        setError('Giriş işlemi başarısız oldu: Sunucuya ulaşılamıyor.');\n      } else {\n        setError(`Giriş işlemi başarısız oldu: ${err.message}`);\n      }\n      setSuccess(false);\n    }\n  };\n  const containerStyle = {\n    backgroundImage: `url(${background})`,\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    height: '100vh',\n    width: '100vw',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    opacity: '0.7'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: containerStyle,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      className: \" d-flex align-items-center justify-content-center login-box rounded-2xl\",\n      style: {\n        width: '300px',\n        height: '35%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formUsername\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Kullan\\u0131c\\u0131 Ad\\u0131\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            name: \"username\",\n            value: credentials.username,\n            onChange: handleChange,\n            placeholder: \"Kullan\\u0131c\\u0131 Ad\\u0131\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mt-4 mb-2\",\n          controlId: \"formPassword\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u015Eifre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            name: \"password\",\n            value: credentials.password,\n            onChange: handleChange,\n            placeholder: \"\\u015Eifre\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"primary\",\n          className: \"mt-3\",\n          children: \"Giri\\u015F Yap\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          className: \"mt-3\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 19\n        }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"success\",\n          className: \"mt-3\",\n          children: \"Giri\\u015F ba\\u015Far\\u0131l\\u0131!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"DOK/PuyOxYgHlGKi0RTqprQMsMQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Form","Button","Alert","Container","axios","useNavigate","background","jsxDEV","_jsxDEV","Login","setIsAuthenticated","_s","credentials","setCredentials","username","password","error","setError","success","setSuccess","navigate","handleChange","e","name","value","target","prevCredentials","handleSubmit","preventDefault","response","post","URLSearchParams","headers","withCredentials","userResponse","get","userId","data","id","sessionStorage","setItem","err","console","status","request","message","containerStyle","backgroundImage","backgroundSize","backgroundPosition","height","width","display","alignItems","justifyContent","opacity","style","children","className","onSubmit","Group","controlId","Label","fileName","_jsxFileName","lineNumber","columnNumber","Control","type","onChange","placeholder","required","variant","_c","$RefreshReg$"],"sources":["/Users/silagedik/Desktop/yuvamol/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Form, Button, Alert, Container } from 'react-bootstrap';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport background from '../images/arkaPlan.png';\nimport \"../CSS/App.css\";\nexport default function Login({ setIsAuthenticated}) {\n  const [credentials, setCredentials] = useState({ username: '', password: '' });\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setCredentials((prevCredentials) => ({ ...prevCredentials, [name]: value }));\n  };\n\n // Login componenti\nconst handleSubmit = async (e) => {\n  e.preventDefault();\n  try {\n    const response = await axios.post('http://localhost:8080/login', new URLSearchParams({\n      username: credentials.username,\n      password: credentials.password\n    }), {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      withCredentials: true\n    });\n\n    // Giriş başarılı, şimdi kullanıcı bilgilerini al\n    const userResponse = await axios.get('http://localhost:8080/api/users/user-details', {\n      withCredentials: true\n    });\n    const userId = userResponse.data.id;\n    setSuccess(true);\n    setError(null);\n    setIsAuthenticated(true);\n \n    sessionStorage.setItem('isAuthenticated', 'true');\n    sessionStorage.setItem('userId', userResponse.data.id);\n    \n    // Kullanıcı ID'si ile yönlendirme\n    navigate(`/home/${userId}`);\n  } catch (err) {\n    console.error('Error response:', err.response);\n    if (err.response) {\n      setError(`Giriş işlemi başarısız oldu: ${err.response.status}`);\n    } else if (err.request) {\n      setError('Giriş işlemi başarısız oldu: Sunucuya ulaşılamıyor.');\n    } else {\n      setError(`Giriş işlemi başarısız oldu: ${err.message}`);\n    }\n    setSuccess(false);\n  }\n};\n\nconst containerStyle = {\n  backgroundImage: `url(${background})`,\n  backgroundSize: 'cover',\n  backgroundPosition: 'center',\n  height: '100vh',\n  width: '100vw',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  opacity : '0.7',\n};\n\n  return (\n    <div style={containerStyle}>\n\n    \n    <Container  className=\" d-flex align-items-center justify-content-center login-box rounded-2xl\" style={{width:'300px', height: '35%'}}>\n      <Form onSubmit={handleSubmit}>\n        <Form.Group controlId=\"formUsername\">\n          <Form.Label><strong>Kullanıcı Adı</strong></Form.Label>\n          <Form.Control\n            type=\"text\"\n            name=\"username\"\n            value={credentials.username}\n            onChange={handleChange}\n            placeholder=\"Kullanıcı Adı\"\n            required\n          />\n        </Form.Group>\n        <Form.Group  className='mt-4 mb-2' controlId=\"formPassword\">\n          <Form.Label><strong>Şifre</strong></Form.Label>\n          <Form.Control\n            type=\"password\"\n            name=\"password\"\n            value={credentials.password}\n            onChange={handleChange}\n            placeholder=\"Şifre\"\n            required\n          />\n        </Form.Group>\n        <Button type=\"submit\" variant=\"primary\" className='mt-3'>Giriş Yap</Button>\n        {error && <Alert variant=\"danger\" className='mt-3'>{error}</Alert>}\n        {success && <Alert variant=\"success\" className='mt-3'>Giriş başarılı!</Alert>}\n      </Form>\n    </Container>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}