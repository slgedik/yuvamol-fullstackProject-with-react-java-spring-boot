{"ast":null,"code":"var _jsxFileName = \"/Users/silagedik/Desktop/yuvamol/frontend/src/pages/UserPostDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport { Carousel, Container } from 'react-bootstrap';\nimport axios from 'axios';\nimport defaultImage from '../images/foto.png';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserPostDetail() {\n  _s();\n  const {\n    animalId\n  } = useParams();\n  const [animal, setAnimal] = useState(null);\n  console.log(\"animal ID \", animalId);\n  const navigate = useNavigate();\n  function handleInfoClick(animalId) {\n    navigate(`/post-edit/${animalId}`);\n  }\n  async function handleDeleteClick(animalId, ownerId) {\n    try {\n      const response = await axios.delete(`http://localhost:8080/api/animals/${animalId}`, {\n        withCredentials: true // Kimlik doğrulama bilgilerini gönder\n      });\n      setAnimal(null); // Animal verisini null yaparak ilanı kaldırın\n      alert(\"İlan silindi\");\n      navigate(`/posts/${ownerId}`);\n    } catch (error) {\n      console.error('Error deleting animal:', error);\n      toast.error(\"İlan silme işlemi başarısız oldu.\");\n    }\n  }\n  useEffect(() => {\n    const fetchAnimal = async () => {\n      try {\n        const response = await axios.get(`http://localhost:8080/api/animals/${animalId}`, {\n          withCredentials: true\n        });\n        setAnimal(response.data);\n      } catch (error) {\n        console.error('Veri çekme hatası:', error);\n        if (error.response) {\n          console.error('Sunucu yanıtı hatası:', error.response.status);\n        } else if (error.request) {\n          console.error('İstek gönderilemedi:', error.request);\n        } else {\n          console.error('Hata mesajı:', error.message);\n        }\n      }\n    };\n    fetchAnimal();\n  }, [animalId]);\n  if (!animal) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Animal not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }, this); // Hayvan bulunamazsa gösterilecek mesaj\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-12\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [animal.photos && animal.photos.length > 0 ? /*#__PURE__*/_jsxDEV(Carousel, {\n        \"data-bs-theme\": \"dark\",\n        className: \"w-full flex justify-center items-center\",\n        children: animal.photos.map((photo, index) => /*#__PURE__*/_jsxDEV(Carousel.Item, {\n          className: \"flex justify-center items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"d-block mx-auto max-h-[400px] max-w-[600px] object-contain\",\n            src: `data:image/jpeg;base64,${photo.photo}`,\n            alt: `Slide ${index}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"d-block mx-auto max-h-[400px] max-w-[600px] object-contain\",\n        src: defaultImage,\n        alt: \"Default\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n          children: animal.animalName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Card.Subtitle, {\n          className: \"mb-2 text-muted\",\n          children: animal.breed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card.Subtitle, {\n          className: \"mb-2 text-muted\",\n          children: [animal.age, \" ya\\u015F\\u0131nda\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \" A\\xE7\\u0131klama: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 22\n          }, this), animal.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Sa\\u011Fl\\u0131k Durumu: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 22\n          }, this), \" \", animal.healthStatus]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Konum: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 22\n          }, this), animal.location]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"warning\",\n          onClick: () => handleInfoClick(animal.animalId),\n          className: \"mr-4\",\n          children: \"Bilgileri d\\xFCzenle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: () => handleDeleteClick(animal.animalId, animal.ownerId),\n          children: \"\\u0130lan\\u0131 Sil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_s(UserPostDetail, \"k83Jy3Y6qD9hX4cpMsT7Dk4K1sQ=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = UserPostDetail;\nvar _c;\n$RefreshReg$(_c, \"UserPostDetail\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","Button","Card","Carousel","Container","axios","defaultImage","ToastContainer","toast","jsxDEV","_jsxDEV","UserPostDetail","_s","animalId","animal","setAnimal","console","log","navigate","handleInfoClick","handleDeleteClick","ownerId","response","delete","withCredentials","alert","error","fetchAnimal","get","data","status","request","message","children","fileName","_jsxFileName","lineNumber","columnNumber","className","photos","length","map","photo","index","Item","src","alt","Body","Title","animalName","Subtitle","breed","age","Text","description","healthStatus","location","variant","onClick","_c","$RefreshReg$"],"sources":["/Users/silagedik/Desktop/yuvamol/frontend/src/pages/UserPostDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport { Carousel, Container } from 'react-bootstrap';\nimport axios from 'axios';\nimport defaultImage from '../images/foto.png'\nimport { ToastContainer, toast } from 'react-toastify';\nexport default function UserPostDetail() {\n  const { animalId } = useParams();\n  const [animal, setAnimal] = useState(null);\nconsole.log(\"animal ID \", animalId);\nconst navigate = useNavigate();\nfunction handleInfoClick(animalId){\n    navigate(`/post-edit/${animalId}`)\n}\n\nasync function handleDeleteClick(animalId, ownerId) {\n  try {\n    const response = await axios.delete(`http://localhost:8080/api/animals/${animalId}`, {\n      withCredentials: true // Kimlik doğrulama bilgilerini gönder\n    });\n    setAnimal(null); // Animal verisini null yaparak ilanı kaldırın\n    alert(\"İlan silindi\");\n\n      navigate(`/posts/${ownerId}`);\n\n  } catch (error) {\n    console.error('Error deleting animal:', error);\n    toast.error(\"İlan silme işlemi başarısız oldu.\");\n  }\n}\n\n  useEffect(() => {\n    const fetchAnimal = async () => {\n      try {\n        const response = await axios.get(`http://localhost:8080/api/animals/${animalId}`, {\n          withCredentials: true,\n        });\n        setAnimal(response.data);\n      } catch (error) {\n        console.error('Veri çekme hatası:', error);\n        if (error.response) {\n          console.error('Sunucu yanıtı hatası:', error.response.status);\n        } else if (error.request) {\n          console.error('İstek gönderilemedi:', error.request);\n        } else {\n          console.error('Hata mesajı:', error.message);\n        }\n      } \n    };\n\n    fetchAnimal();\n  }, [animalId]);\n\n  if (!animal) {\n    return <div>Animal not found</div>; // Hayvan bulunamazsa gösterilecek mesaj\n  }\n\n  return (\n    <Container className=\"mt-12\">\n      <Card>\n      {animal.photos && animal.photos.length > 0 ? (\n          <Carousel data-bs-theme=\"dark\" className=\"w-full flex justify-center items-center\">\n            {animal.photos.map((photo, index) => (\n              <Carousel.Item key={index} className=\"flex justify-center items-center\">\n                <img\n                  className=\"d-block mx-auto max-h-[400px] max-w-[600px] object-contain\"\n                  src={`data:image/jpeg;base64,${photo.photo}`}\n                  alt={`Slide ${index}`}\n                />\n              </Carousel.Item>\n            ))}\n          </Carousel>\n        ) : (\n          <img\n            className=\"d-block mx-auto max-h-[400px] max-w-[600px] object-contain\"\n            src={defaultImage}\n            alt=\"Default\"\n          />\n        )}\n        <Card.Body>\n        <Card.Title>{animal.animalName}</Card.Title>\n          <Card.Subtitle className=\"mb-2 text-muted\">{animal.breed}</Card.Subtitle>\n          <Card.Subtitle className=\"mb-2 text-muted\">{animal.age} yaşında</Card.Subtitle>\n          <Card.Text><strong> Açıklama: </strong>{animal.description}</Card.Text>\n          <Card.Text><strong>Sağlık Durumu: </strong> {animal.healthStatus}</Card.Text>\n          <Card.Text><strong>Konum: </strong>{animal.location}</Card.Text>\n          <Button variant=\"warning\" onClick={()=> handleInfoClick(animal.animalId)} className='mr-4'>Bilgileri düzenle</Button>\n          <Button variant=\"danger\" onClick={()=> handleDeleteClick(animal.animalId, animal.ownerId)}>İlanı Sil</Button>\n          <ToastContainer/>\n        </Card.Body>\n      </Card>\n    </Container>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}